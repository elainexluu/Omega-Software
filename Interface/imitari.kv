#:import rgba kivy.utils.get_color_from_hex

<Border@Widget>:
    pos_hint: {'center_x':0.5,'center_y':0.5}
    canvas:
        Color:
            rgba: (1,1,1,1)
        
        Rectangle:
            pos: 15,15
            size: (self.width-30,self.height-30)
        Color:
            rgba: (0,0,0,1)
        Line:
            width: 1.5
            rectangle: self.x+15, self.y+15, self.width-30, self.height-30
            
<MyButton@Button>
    background_normal: ''
    background_color: (0.4,0.74,0.91,1)
    canvas.before:
        Color:
            rgba: 0,0,0,1
        Line:
            width: 2
            rectangle: self.x, self.y, self.width, self.height
    background_down: ''
    on_press: self.background_color = (0.99,0.84,0.04,1)
    on_release: self.background_color = (0.4,0.74,0.91,1)
    
<MyProgress@ProgressBar>:
    value: 50
    size_hint_x: 0.5

<HomeWindow>:
    name: "home"
    PhotoRoot:
        Border:
        GridLayout:
            cols: 1 
            rows: 3
            pos_hint: {"center_x":0.5,"center_y": 0.6}
            Label:
                color: (0,0,0,1)
                bold: True
                font_size: 30
                text: "IMITARI"
                size: self.texture_size
                text_size: root.width-30, None
                halign: "center"
                valign: "top"  
            BoxLayout:
                size_hint_y: 0.4
                Image:
                    source: 'logo.png'
                    size_hint_y: 2
                    pos_hint: {"center_x":1,"center_y":0.8}
                    
            AnchorLayout:
                anchor_y: "top"
                anchor_x: "center"
                Label:
                    color: (0,0,0,1)
                    text: "Team Omega App Development in Progress"
                    size_hint_x: 0.6
                    size: self.texture_size
                    text_size: root.width-30, None
                    halign: "center"
                    valign: "top"
                
        MyButton:
            id: begin
            color:(0,0,0,1)
            text: "Begin Sweeping"
            size_hint: (0.6,0.1)
            pos_hint: {"center_x":0.5,"center_y":0.2}
            on_release: app.root.current = "loadingscreen"
            
<LoadingWindow>:
    name: "loadingscreen"
    PhotoRoot:
        Border:
        GridLayout:
            cols: 1 
            rows: 4
            pos_hint: {"center_x":0.5,"center_y": 0.56}
            Label:
                color: (0,0,0,1)
                bold: True
                font_size: 30
                text: "IMITARI"
                size: self.texture_size
                text_size: root.width-30, None
                halign: "center"
                valign: "bottom"  
            BoxLayout:
                size_hint_y: 0.4
                Image:
                    source: 'logo.png'
                    size_hint_y: 2
                    pos_hint: {"center_x":1,"center_y":0.6}
                    
            AnchorLayout:
                anchor_y: "bottom"
                anchor_x: "center"
                Label:
                    color: (0,0,0,1)
                    text: "Sweeping..."
                    size_hint_x: 0.6
                    size_hint_y: 0.5
                    size: self.texture_size
                    text_size: root.width-30, None
                    halign: "center"
                    valign: "top"
            
            AnchorLayout:
                size_hint_y: 0.25    
                MyProgress:
                    anchor_y: "bottom"
                    anchor_x: "center"
                    id: pb
            

WindowManager:
    HomeWindow:
    LoadingWindow:

        
    